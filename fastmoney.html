<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Family Feud Fast Money</title>
  <link rel="stylesheet" href="games/fastmoney/style.css">
</head>
<body>
  <div class="container">
    
    <!-- SETUP SCREEN -->
    <div id="setup-screen" class="screen active">
      <div class="setup-container">
        <h1 class="setup-title">Family Feud Fast Money</h1>
        <p class="setup-subtitle">Customize your game or use default questions</p>
        
        <!-- Theme-Based Generation -->
        <div class="setup-section">
          <h2 class="section-title">🎯 Option 1: Generate Questions with AI</h2>
          <p class="section-description">Enter a theme, copy the prompt, and use Perplexity AI to generate custom questions!</p>
          
          <div class="theme-input-container">
            <label for="themeInput" class="theme-label">Enter a theme (optional):</label>
            <input 
              type="text" 
              id="themeInput" 
              class="theme-input" 
              placeholder="e.g., Movies, Sports, Food, Technology..."
              oninput="updatePrompt()"
            >
          </div>
          
          <div class="prompt-box">
            <pre class="prompt-text" id="promptDisplay"></pre>
          </div>
          
          <button class="copy-btn" id="routeToPplxBtn" onclick="navigateToPerplexity()">📋 Get Questions and Answers from Perplexity</button>
          
          <p style="text-align: center; margin-top: 15px; color: var(--color-slate-500); font-size: 0.95rem;">
            Copy this prompt and paste it into 
            <a href="https://www.perplexity.ai" target="_blank" style="color: var(--game-purple); font-weight: 600;">Perplexity AI</a>, 
            then paste the JSON response below!
          </p>
        </div>
        
        <!-- Custom JSON Input -->
        <div class="setup-section">
          <h2 class="section-title">📝 Option 2: Paste Custom JSON</h2>
          <p class="section-description">Paste AI-generated JSON or create your own custom questions</p>
          
          <textarea 
            id="custom-json-input" 
            class="json-textarea" 
            placeholder='Paste your JSON here...\n\nExample format:\n{\n  "questions": [\n    {\n      "id": 1,\n      "question": "Your question?",\n      "answers": [\n        {"text": "Answer 1", "points": 30},\n        {"text": "Answer 2", "points": 25}\n      ]\n    }\n  ]\n}'
          ></textarea>
          
          <div id="error-message" class="error-message"></div>
          
          <div class="button-group">
            <button class="btn-secondary" onclick="clearJSON()">Clear JSON</button>
            <button class="btn-primary" onclick="validateAndStartCustom()">Validate &amp; Start</button>
          </div>
        </div>
        
        <!-- Default Questions -->
        <div class="setup-section">
          <h2 class="section-title">🎮 Option 3: Use Default Questions</h2>
          <p class="section-description">Jump right in with 5 pre-made questions!</p>
          
          <button class="btn-default" onclick="startWithDefault()">Start with Default Questions</button>
        </div>
      </div>
    </div>
    
    <!-- WELCOME SCREEN -->
    <div id="welcome-screen" class="screen">
      <div class="game-logo">
        <div class="logo-text">FAST MONEY</div>
        <div class="logo-subtitle">Family Feud Edition</div>
      </div>
      
      <div class="rules-card">
        <h2>How to Play</h2>
        <div class="rules-list">
          <div class="rule-item">
            <div class="rule-number">1</div>
            <div class="rule-text">Player 1 answers 5 questions quickly without seeing the points</div>
          </div>
          <div class="rule-item">
            <div class="rule-number">2</div>
            <div class="rule-text">Player 2 answers the same questions (Player 1's answers are disabled)</div>
          </div>
          <div class="rule-item">
            <div class="rule-number">3</div>
            <div class="rule-text">See your results with a dramatic progressive reveal!</div>
          </div>
          <div class="rule-item">
            <div class="rule-number">4</div>
            <div class="rule-text">Score 200+ points combined to WIN!</div>
          </div>
        </div>
      </div>
      
      <button class="btn-primary" onclick="startGame()">Let's Play!</button>
    </div>
    
    <!-- PLAYER 1 SCREEN -->
    <div id="player1-screen" class="screen">
      <div class="player-header player1-header">
        <div class="player-badge">👤 PLAYER 1</div>
        <div class="question-counter">Question <span id="p1-question-num">1</span> of 5</div>
      </div>
      
      <div class="question-card">
        <p class="instruction-text">Choose your answer quickly!</p>
        <h2 class="question-text" id="p1-question"></h2>
        <div class="answer-buttons" id="p1-answer-buttons"></div>
        <div id="p1-next-container" class="next-button-container" style="display: none;">
          <button class="btn-next" onclick="proceedPlayer1()">Next Question →</button>
        </div>
      </div>
    </div>
    
    <!-- PLAYER 1 RESULTS -->
    <div id="player1-results-screen" class="screen">
      <div class="results-reveal-container">
        <h2 class="reveal-title">Player 1 Results</h2>
        <div id="p1-results-items" class="reveal-items"></div>
        
        <div id="p1-total-container" class="total-container" style="display: none;">
          <div class="total-label">Player 1 Final Score</div>
          <div class="total-value" id="p1-total-value">0</div>
        </div>
        
        <button id="p1-continue-btn" class="btn-primary" onclick="continueToPlayer2()" style="display: none; margin-top: 30px;">Continue to Player 2 →</button>
      </div>
    </div>
    
    <!-- TRANSITION SCREEN -->
    <div id="transition-screen" class="screen">
      <div class="transition-content">
        <div class="transition-icon">🔄</div>
        <h2 class="transition-title">Great Job, Player 1!</h2>
        <p class="transition-text">Now it's Player 2's turn...</p>
        <div class="player1-score-preview">
          Player 1 scored: <strong><span id="transition-p1-score"></span> points</strong>
        </div>
        <button class="btn-primary" onclick="startPlayer2()">Start Player 2 →</button>
      </div>
    </div>
    
    <!-- PLAYER 2 SCREEN -->
    <div id="player2-screen" class="screen">
      <div class="player-header player2-header">
        <div class="player-badge">👤 PLAYER 2</div>
        <div class="question-counter">Question <span id="p2-question-num">1</span> of 5</div>
      </div>
      
      <div class="question-card">
        <p class="instruction-text">Choose your answer (Player 1's answers are disabled)!</p>
        <h2 class="question-text" id="p2-question"></h2>
        <div class="answer-buttons" id="p2-answer-buttons"></div>
        <div id="p2-next-container" class="next-button-container" style="display: none;">
          <button class="btn-next" onclick="proceedPlayer2()">Next Question →</button>
        </div>
      </div>
    </div>
    
    <!-- PLAYER 2 RESULTS -->
    <div id="player2-results-screen" class="screen">
      <div class="results-reveal-container">
        <h2 class="reveal-title">Player 2 Results</h2>
        <div id="p2-results-items" class="reveal-items"></div>
        
        <div id="p2-total-container" class="total-container" style="display: none;">
          <div class="total-label">Player 2 Final Score</div>
          <div class="total-value" id="p2-total-value">0</div>
        </div>
        
        <button id="p2-continue-btn" class="btn-primary" onclick="showCombinedResults()" style="display: none; margin-top: 30px;">See Combined Results →</button>
      </div>
    </div>
    
    <!-- COMBINED RESULTS SCREEN -->
    <div id="combined-results-screen" class="screen">
      <div class="transition-content">
        <h2 class="transition-title">Combined Results</h2>
        
        <div class="combined-scores">
          <div class="player-score-row">
            <span class="player-label">👤 Player 1:</span>
            <span class="score-display" id="p1-combined-score">0</span>
          </div>
          
          <div class="player-score-row">
            <span class="player-label">👤 Player 2:</span>
            <span class="score-display" id="p2-combined-score">0</span>
          </div>
          
          <div class="total-score-row">
            <span class="total-label">TOTAL SCORE:</span>
            <span class="total-display" id="combined-total-score">0</span>
          </div>
          
          <div id="win-status" class="win-status"></div>
        </div>
        
        <button class="btn-primary" onclick="showTopAnswers()" style="margin-top: 20px;">See Top Answers →</button>
      </div>
    </div>
    
    <!-- TOP ANSWERS SCREEN -->
    <div id="top-answers-screen" class="screen">
      <div class="top-answers-container">
        <h1 class="top-answers-title">Top Answers</h1>
        <p class="top-answers-subtitle">See all the ranked answers for each question</p>
        
        <div id="top-answers-list" class="top-answers-list"></div>
        
        <button class="btn-primary" onclick="showCelebration()" style="margin-top: 20px;">Final Results →</button>
      </div>
    </div>
    
    <!-- CELEBRATION SCREEN -->
    <div id="celebration-screen" class="screen">
      <div class="celebration-container">
        <div class="celebration-icon" id="celebration-icon">🎉</div>
        <h1 class="celebration-title" id="celebration-title">YOU WIN!</h1>
        <p class="celebration-message" id="celebration-message"></p>
        <button class="btn-primary" onclick="resetGame()">Play Again</button>
      </div>
    </div>
    
  </div>
  
  <!-- Confetti Container -->
  <div id="confetti-container"></div>
  
  <script src="games/fastmoney/app.js"></script>
</body>
</html>